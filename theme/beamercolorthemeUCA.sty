% Color theme
\usecolortheme[named=black]{structure}

% Dark mode
\def\beamer@theme@darkmode{dark}
\def\darkmode{
    % Background color of the frame
    \definecolor{GeneralBackgroundColor}{RGB}{52,61,70}
    % Color of the text
    \definecolor{GeneralTextColor}{RGB}{255,255,255}
}

% Light mode
\def\beamer@theme@lightmode{light}
\def\lightmode{
    % Background color of the frame
    \definecolor{GeneralBackgroundColor}{RGB}{255,255,255}
    % Color of the text
    \definecolor{GeneralTextColor}{RGB}{0,0,0}
}


% Default color setup
\def\defaultcolorsetup{
    \colorlet{DarkGray}{GeneralBackgroundColor!35!GeneralTextColor}
    \colorlet{LightGray}{GeneralBackgroundColor!80!GeneralTextColor}
    
    \setbeamercolor{normal text}{fg=GeneralTextColor}
    \setbeamercolor{itemize item}{fg=GeneralTextColor}
    \setbeamercolor{enumerate item}{fg=GeneralTextColor}

    % THEME RELATED
    \colorlet{TitleFrameLeft}{MainDarkColor}
    \colorlet{TitleFrameRight}{MainLightColor}
    \colorlet{FrameBorderTop}{SecondaryColor}
    \colorlet{FrameBorderBottom}{MainColor}
    % ------------------
    \setbeamercolor{footer}{fg=LightGray}
    
    % TEXT RELATED
    \colorlet{VeryImportant}{MainDarkColor}
    \colorlet{Important}{MainColor}
    \colorlet{SubImportant}{MainLightColor}
    \colorlet{FrameSubtitle}{MainInvisibleColor}
    \colorlet{FrameTitle}{GeneralBackgroundColor}
    \colorlet{CustomBlockBackground}{GeneralBackgroundColor!95!GeneralTextColor}
    \colorlet{InlineCodeBackground}{LightGray}
    
    
    % ------------------
    \setbeamercolor{title}{fg=VeryImportant,parent=structure}

    \setbeamercolor{toc title}{fg=Important,parent=structure}
    \setbeamercolor{toc subtitle}{fg=SubImportant,parent=structure}

    \setbeamercolor{standout}{bg=MainDarkColor, fg=MainInvisibleColor}
    \setbeamercolor{background canvas}{bg=GeneralBackgroundColor}
    \setbeamercolor{frametitle}{bg=GeneralBackgroundColor}
}

% ==================
% Color Chart
% ==================


% --- UCA
\def\beamer@theme@ucacolor{UCA}

\definecolor{UCADarkBlue}{RGB}{0, 126, 161}
\definecolor{UCALightBlue}{RGB}{0, 175, 215}
\definecolor{UCABlue}{RGB}{0, 150, 188}
% ---
\def\UCAColorTheme{
    \colorlet{MainDarkColor}{UCADarkBlue}
    \colorlet{MainLightColor}{UCALightBlue}
    \colorlet{MainColor}{UCABlue}
    \colorlet{SecondaryColor}{UCABlue}
    
    \colorlet{MainInvisibleColor}{SecondaryColor!10}
    \colorlet{ProgressBarActive}{SecondaryColor!50}
    \colorlet{ProgressBarBackground}{MainDarkColor}
    
    \defaultcolorsetup
}


% --- I3S
\def\beamer@theme@issscolor{I3S}

\definecolor{I3SDarkBlue}{RGB}{32, 50, 95}
\definecolor{I3SLightBlue}{RGB}{60, 105, 225}
\definecolor{I3SBlue}{RGB}{0, 38, 127}
\definecolor{I3SYellow}{RGB}{255, 206, 0}
\definecolor{I3SRed}{RGB}{210, 16, 52}
\definecolor{I3SPurple}{RGB}{172, 4, 129}
\definecolor{I3SGreen}{RGB}{186, 229, 95}
\definecolor{I3SOrange}{RGB}{250, 170, 35}
% ---
\def\I3SColorTheme{
    \colorlet{MainDarkColor}{I3SDarkBlue}
    \colorlet{MainLightColor}{I3SLightBlue}
    \colorlet{MainColor}{I3SBlue}
    \colorlet{SecondaryColor}{I3SOrange}
    
    \colorlet{MainInvisibleColor}{SecondaryColor!40}
    \colorlet{ProgressBarActive}{SecondaryColor}
    \colorlet{ProgressBarBackground}{MainDarkColor}
    
    \defaultcolorsetup
}


% --- INRIA
\def\beamer@theme@inriacolor{INRIA}

\definecolor{InriaDarkRed}{RGB}{177, 25, 4}
\definecolor{InriaLightRed}{RGB}{240, 82, 60}
\definecolor{InriaRed}{RGB}{230, 51, 25}
% ---
\def\InriaColorTheme{
    \colorlet{MainDarkColor}{InriaDarkRed}
    \colorlet{MainLightColor}{InriaLightRed}
    \colorlet{MainColor}{InriaRed}
    \colorlet{SecondaryColor}{InriaRed}
    
    \colorlet{MainInvisibleColor}{SecondaryColor!10}
    \colorlet{ProgressBarActive}{SecondaryColor}
    \colorlet{ProgressBarBackground}{MainDarkColor}
    
    \defaultcolorsetup
}

% --- CUSTOM
% - Sakura (Cherry Pink)
\def\beamer@theme@sakuracolor{Sakura}

\definecolor{SakuraDarkColor}{HTML}{FF5C8D}
\definecolor{SakuraLightColor}{HTML}{FFC0D3}
\definecolor{SakuraColor}{HTML}{F999B7}
\definecolor{SakuraSecondaryColor}{HTML}{FF5C8D}

\def\SakuraColorTheme{
    \colorlet{MainDarkColor}{SakuraDarkColor}
    \colorlet{MainLightColor}{SakuraLightColor}
    \colorlet{MainColor}{SakuraColor}
    \colorlet{SecondaryColor}{SakuraSecondaryColor}
    
    \colorlet{MainInvisibleColor}{SecondaryColor!10}
    \colorlet{ProgressBarActive}{SakuraColor}
    \colorlet{ProgressBarBackground}{MainDarkColor}
    
    \defaultcolorsetup
}

% - Classical (Brownish)
\def\beamer@theme@classicalcolor{Classical}

\definecolor{ClassicalDarkColor}{HTML}{483434}
\definecolor{ClassicalLightColor}{HTML}{8f7570}
\definecolor{ClassicalColor}{HTML}{6B4F4F}
\definecolor{ClassicalSecondaryColor}{HTML}{6B4F4F}

\def\ClassicalColorTheme{
    \colorlet{MainDarkColor}{ClassicalDarkColor}
    \colorlet{MainLightColor}{ClassicalLightColor}
    \colorlet{MainColor}{ClassicalColor}
    \colorlet{SecondaryColor}{ClassicalSecondaryColor}
    
    \colorlet{MainInvisibleColor}{SecondaryColor!10}
    \colorlet{ProgressBarActive}{SecondaryColor}
    \colorlet{ProgressBarBackground}{MainDarkColor}
    
    \defaultcolorsetup
}



% -- Default (Gray)
\def\beamer@theme@defaultcolor{default}

\def\DefaultColorTheme{

    \definecolor{MainDarkColor}{RGB}{47,52,63}
    \definecolor{MainLightColor}{RGB}{147,152,163}
    \definecolor{MainColor}{RGB}{0, 153, 204}
    \definecolor{SecondaryColor}{RGB}{0, 153, 204}
        
    \colorlet{MainInvisibleColor}{MainColor!40}
        
    \colorlet{ProgressBarActive}{SecondaryColor}
    \colorlet{ProgressBarBackground}{MainDarkColor!20}
    
    \defaultcolorsetup
    
    
    \colorlet{TitleFrameLeft}{MainDarkColor}
    \colorlet{TitleFrameRight}{MainDarkColor}
    
}

\def\beamer@theme@darkcolor{dark}
\def\DefaultDarkColorTheme{

    \definecolor{MainDarkColor}{RGB}{218,216,209}
    \definecolor{MainLightColor}{RGB}{147,152,163}
    \definecolor{MainColor}{RGB}{255, 139, 107}
    \definecolor{SecondaryColor}{RGB}{255, 139, 107}
        
    \colorlet{MainInvisibleColor}{MainColor!60!GeneralBackgroundColor}
        
    \colorlet{ProgressBarActive}{SecondaryColor}
    \colorlet{ProgressBarBackground}{MainDarkColor!80!GeneralBackgroundColor}
    
    \defaultcolorsetup
    
    \colorlet{TitleFrameLeft}{MainDarkColor}
    \colorlet{TitleFrameRight}{MainDarkColor}
    \colorlet{FrameTitle}{GeneralBackgroundColor}
}


% ==================
% CODE
% ==================

\definecolor{CodeString}{RGB}{104, 132, 87}
\definecolor{CodeKeyword}{RGB}{204, 120, 50}
\definecolor{CodeComment}{RGB}{50, 177, 204}

% Applying first the style (dark / light)
\ifx\beamer@theme@style\beamer@theme@darkmode \darkmode \else \lightmode \fi

\DefaultColorTheme
\ifx\beamer@theme@color\beamer@theme@darkcolor \DefaultDarkColorTheme \fi
\ifx\beamer@theme@color\beamer@theme@issscolor \I3SColorTheme \fi
\ifx\beamer@theme@color\beamer@theme@ucacolor \UCAColorTheme \fi
\ifx\beamer@theme@color\beamer@theme@inriacolor \InriaColorTheme \fi
\ifx\beamer@theme@color\beamer@theme@sakuracolor \SakuraColorTheme \fi
\ifx\beamer@theme@color\beamer@theme@classicalcolor \ClassicalColorTheme \fi



% ==================
% BLOCKS
% ==================
\definecolor{BlockTitle}{RGB}{0, 126, 161}
\definecolor{AlertBlockTitle}{rgb}{0.925, 0.345, 0.345}
\definecolor{ExampleBlockTitle}{rgb}{0.37, 0.7, 0.66}

\colorlet{BlockBody}{BlockTitle!15!GeneralBackgroundColor}
\colorlet{AlertBlockBody}{AlertBlockTitle!15!GeneralBackgroundColor}
\colorlet{ExampleBlockBody}{ExampleBlockTitle!15!GeneralBackgroundColor}

% ------------------

\setbeamercolor{block title}{ bg = BlockTitle }
\setbeamercolor{block body}{ bg = BlockBody }
\setbeamercolor{block title example}{ bg = ExampleBlockTitle }
\setbeamercolor{block body example}{ bg = ExampleBlockBody }
\setbeamercolor{block title alerted}{ bg = AlertBlockTitle }
\setbeamercolor{block body alerted}{ bg = AlertBlockBody }
\setbeamercolor{footer}{fg = GeneralBackgroundColor, bg = TitleFrameLeft}
\setbeamercolor{progressbar_bg}{bg = ProgressBarBackground}
\setbeamercolor{progressbar_active}{bg = ProgressBarActive}